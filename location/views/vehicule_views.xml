<odoo>
    <!-- Vue Liste -->
    <record id="view_vehicule_list" model="ir.ui.view">
        <field name="name">Vehicule List</field>
        <field name="model">location.vehicule</field>
        <field name="arch" type="xml">
            <list decoration-success="statut == 'disponible'"
                  decoration-warning="statut == 'maintenance'"
                  decoration-danger="statut == 'loue'"
                  decoration-muted="statut == 'hors_service'">
                <field name="image_128" widget="image" options="{'size': [50, 50]}"/>
                <field name="name"/>
                <field name="marque_id"/>
                <field name="modele"/>
                <field name="immatriculation"/>
                <field name="annee"/>
                <field name="type_carburant"/>
                <field name="statut" widget="badge"/>
                <field name="prix_journalier" widget="monetary"/>
                <field name="total_locations"/>
            </list>
        </field>
    </record>

    <!-- Vue Kanban -->
    <record id="view_vehicule_kanban" model="ir.ui.view">
        <field name="name">Vehicule Kanban</field>
        <field name="model">location.vehicule</field>
        <field name="arch" type="xml">
            <kanban>
                <field name="id"/>
                <field name="name"/>
                <field name="marque_id"/>
                <field name="modele"/>
                <field name="immatriculation"/>
                <field name="prix_journalier"/>
                <field name="statut"/>
                <field name="image_128"/>
                <templates>
                    <t t-name="kanban-box">
                        <div class="oe_kanban_global_click o_kanban_record_has_image_fill">
                            <div class="o_kanban_image_fill_left" 
                                 t-attf-style="background-image:url('#{kanban_image('location.vehicule', 'image_128', record.id.raw_value)}')">
                                <img class="o_kanban_image_inner_pic" 
                                     t-att-alt="record.name.value" 
                                     t-att-src="kanban_image('location.vehicule', 'image_128', record.id.raw_value)"/>
                            </div>
                            <div class="oe_kanban_details">
                                <div class="o_kanban_record_top">
                                    <div class="o_kanban_record_headings">
                                        <strong class="o_kanban_record_title">
                                            <field name="name"/>
                                        </strong>
                                        <br/>
                                        <span>
                                            <field name="marque_id"/> <field name="modele"/>
                                        </span>
                                    </div>
                                    <field name="statut" widget="label_selection" 
                                           options="{'classes': {'disponible': 'success', 'loue': 'danger', 'maintenance': 'warning'}}"/>
                                </div>
                                <div class="o_kanban_record_bottom">
                                    <div class="oe_kanban_bottom_left">
                                        <field name="immatriculation"/>
                                    </div>
                                    <div class="oe_kanban_bottom_right">
                                        <strong>
                                            <field name="prix_journalier" widget="monetary"/>
                                            /jour
                                        </strong>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <!-- Vue Formulaire améliorée -->
    <record id="view_vehicule_form" model="ir.ui.view">
        <field name="name">Vehicule Form</field>
        <field name="model">location.vehicule</field>
        <field name="arch" type="xml">
            <form>
                <header>
                    <field name="statut" widget="statusbar" 
                           statusbar_visible="disponible,loue,maintenance,hors_service"/>
                </header>
                <sheet>
                    <field name="image_1920" widget="image" class="oe_avatar" 
                           options="{'preview_image': 'image_128'}"/>
                    <div class="oe_title">
                        <h1>
                            <field name="name" placeholder="Ex: Peugeot 208 Grise"/>
                        </h1>
                    </div>
                    <div class="oe_button_box" name="button_box">
                        <button class="oe_stat_button" type="object" 
                                name="action_view_locations" icon="fa-car">
                            <field name="total_locations" widget="statinfo" 
                                   string="Locations"/>
                        </button>
                        <button class="oe_stat_button" icon="fa-money">
                            <field name="revenu_total" widget="statinfo" 
                                   string="Revenu total"/>
                        </button>
                    </div>
                    
                    <group>
                        <group name="basic_info" string="Informations de base">
                            <field name="marque_id" options="{'no_create': False}"/>
                            <field name="modele"/>
                            <field name="immatriculation"/>
                            <field name="numero_chassis"/>
                            <field name="annee"/>
                            <field name="couleur"/>
                        </group>
                        <group name="technical" string="Caractéristiques">
                            <field name="type_carburant"/>
                            <field name="nombre_places"/>
                            <field name="kilometrage"/>
                            <field name="date_mise_circulation"/>
                        </group>
                    </group>
                    
                    <notebook>
                        <page string="Tarification" name="pricing">
                            <group>
                                <group string="Prix de location">
                                    <field name="prix_journalier" widget="monetary"/>
                                    <field name="prix_hebdomadaire" widget="monetary"/>
                                    <field name="prix_mensuel" widget="monetary"/>
                                </group>
                                <group string="Caution">
                                    <field name="caution" widget="monetary"/>
                                </group>
                            </group>
                        </page>
                        
                        <page string="Maintenance et Assurance" name="maintenance">
                            <group>
                                <group string="Révisions">
                                    <field name="date_derniere_revision"/>
                                    <field name="date_prochaine_revision"/>
                                </group>
                                <group string="Assurance">
                                    <field name="numero_police_assurance"/>
                                    <field name="date_expiration_assurance"/>
                                </group>
                            </group>
                        </page>
                        
                        <page string="Historique des locations" name="locations">
                            <field name="location_ids">
                                <list decoration-success="statut == 'terminee'"
                                      decoration-primary="statut == 'en_cours'"
                                      decoration-muted="statut == 'annulee'">
                                    <field name="name"/>
                                    <field name="client_id"/>
                                    <field name="date_debut"/>
                                    <field name="date_fin"/>
                                    <field name="duree_jours"/>
                                    <field name="montant_total" widget="monetary" sum="Total"/>
                                    <field name="statut" widget="badge"/>
                                </list>
                            </field>
                        </page>
                    </notebook>
                </sheet>

                <chatter/> 
            </form>
        </field>
    </record>

    <!-- Vue Recherche -->
    <record id="view_vehicule_search" model="ir.ui.view">
        <field name="name">Vehicule Search</field>
        <field name="model">location.vehicule</field>
        <field name="arch" type="xml">
            <search>
                <field name="name"/>
                <field name="marque_id"/>
                <field name="modele"/>
                <field name="immatriculation"/>
                <separator/>
                <filter string="Disponible" name="disponible" 
                        domain="[('statut', '=', 'disponible')]"/>
                <filter string="Loué" name="loue" 
                        domain="[('statut', '=', 'loue')]"/>
                <filter string="En maintenance" name="maintenance" 
                        domain="[('statut', '=', 'maintenance')]"/>
                <separator/>
                <filter string="Essence" name="essence" 
                        domain="[('type_carburant', '=', 'essence')]"/>
                <filter string="Diesel" name="diesel" 
                        domain="[('type_carburant', '=', 'diesel')]"/>
                <filter string="Électrique" name="electrique" 
                        domain="[('type_carburant', '=', 'electrique')]"/>
                <group expand="0" string="Grouper par">
                    <filter string="Marque" name="group_marque" 
                            context="{'group_by': 'marque_id'}"/>
                    <filter string="Statut" name="group_statut" 
                            context="{'group_by': 'statut'}"/>
                    <filter string="Type de carburant" name="group_carburant" 
                            context="{'group_by': 'type_carburant'}"/>
                </group>
            </search>
        </field>
    </record>
</odoo>